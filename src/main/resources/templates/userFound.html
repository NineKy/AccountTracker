<!DOCTYPE html>
<html lang="en">
<head>
    <title>Login V1</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<form class="login100-form validate-form" onsubmit="login(); return false;">
					<span class="login100-form-title">
<!--						로그인 페이지-->
					</span>

    <div class="wrap-input100 validate-input" data-validate="Valid email is required: ex@abc.xyz">
        <input class="input100" type="text" id="id" name="id" placeholder="Id">
        <span class="focus-input100"></span>
        <span class="symbol-input100">
							<i class="fa fa-envelope" aria-hidden="true"></i>
						</span>
    </div>

    <div class="wrap-input100 validate-input" data-validate="Password is required">
        <input class="input100" type="password" id="password" name="password" placeholder="Password">
        <span class="focus-input100"></span>
        <span class="symbol-input100">
							<i class="fa fa-lock" aria-hidden="true"></i>
						</span>
    </div>

    <div class="container-login100-form-btn">
        <button class="login100-form-btn">
            Login
        </button>
    </div>

    <div class="text-center p-t-12">
						<span class="txt1">
							Forgot
						</span>
        <a class="txt2" href="login/forget">
            Password?
        </a>
    </div>

    <div class="text-center p-t-136">
        <a class="txt2" href="login/registration">
            Create your Account
            <i class="fa fa-long-arrow-right m-l-5" aria-hidden="true"></i>
        </a>
    </div>
</form>


<!--===============================================================================================-->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $('.js-tilt').tilt({
        scale: 1.1
    })


    function login() {
        console.log("id : " + $("#id").val());
        console.log("pwd : " + $("#password").val());
        $.ajax({
            url: "/user/login",
            type: "POST",
            contentType: "application/json",
            data: JSON.stringify({
                "id": $("#id").val(),
                "password": $("#password").val()
            }),

            success: function (data) {
                console.log(data);

                if (data.successAble === true) {
                    alert("로그인 성공");
                    location.href = "/view/main";
                } else {
                    alert("로그인 실패");
                }
            },
            error: function (data) {
                console.log(data);
                alert("서버에서 실패");
            }
        });
    }

    function findId() {
        console.log("name : " + $("#name").val());
        $.ajax({
            url: "/user/findId",
            type: "POST",
            contentType: "application/json",
            data: JSON.stringify({
                "name": $("#name").val()
            }),

            success: function (data) {
                console.log(data);

                if (data.successAble === true) {
                    alert("아이디 찾기 성공");
                    location.href = "/view/main";
                } else {
                    alert("아이디 찾기 실패");
                }
            },
            error: function (data) {
                console.log(data);
                alert("서버에서 실패");
            }
        });
    }
</script>
<!--===============================================================================================-->
<!--<script src="/js/main.js"></script>-->

</body>
</html>